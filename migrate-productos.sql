-- Script para migrar productos del archivo producto.txt
-- Ejecutar en el SQL Editor de Supabase

-- 1. Agregar columna stock_minimo
ALTER TABLE productos ADD COLUMN IF NOT EXISTS stock_minimo INTEGER DEFAULT 0;

-- 2. Eliminar todos los productos existentes
TRUNCATE TABLE productos RESTART IDENTITY CASCADE;

-- 3. Insertar productos del archivo producto.txt
-- Mapeo: Codigo -> codigo_sku, Descripcion -> nombre, Precio Costo -> costo, 
-- Precio Venta -> precio_minorista, Precio Mayoreo -> precio_mayorista,
-- Inventario -> stock, Inv. Minimo -> stock_minimo

INSERT INTO productos (
  codigo_sku, 
  nombre, 
  descripcion, 
  costo, 
  precio_minorista, 
  precio_mayorista, 
  stock, 
  stock_minimo,
  categoria, 
  unidad_medida, 
  activo
) VALUES 
-- FOCO 110
('FOCO 110', 'FOCO 110', 'FOCO 110', 0.00, 1900.00, 0.00, 20, 0, 'Iluminación', 'Unidad', true),

-- ABRAZADERA 110
('1728', 'ABRAZADERA 110', 'ABRAZADERA 110', 2150.00, 3800.00, 0.00, 4, 0, 'Suspensión', 'Unidad', true),

-- ABRAZADERA MANGUERA DE NAFTA
('1420', 'ABRAZADERA MANGUERA DE NAFTA', 'ABRAZADERA MANGUERA DE NAFTA', 74.00, 200.00, 0.00, 100, 0, 'Combustible', 'Unidad', true),

-- ACEITE 2T 100CC COMPETICION RECCINO
('1226', 'ACEITE 2T 100CC COMPETICION RECCINO', 'ACEITE 2T 100CC COMPETICION RECCINO', 1520.00, 4320.00, 0.00, 1, 2, 'Lubricantes', 'Litro', true),

-- ACEITE 2T CASTROL 1L
('1772', 'ACEITE 2T CASTROL 1L', 'ACEITE 2T CASTROL 1L', 6630.00, 11000.00, 0.00, 2, 0, 'Lubricantes', 'Litro', true),

-- ACEITE 2T X 100CC 2TIEMPOS MACH/ WANDER
('54', 'ACEITE 2T X 100CC 2TIEMPOS MACH/ WANDER', 'ACEITE 2T X 100CC 2TIEMPOS MACH/ WANDER', 1190.00, 2000.00, 0.00, 27, 0, 'Lubricantes', 'Litro', true),

-- ACEITE CASTROL BLANCO
('1343', 'ACEITE CASTROL BLANCO', 'ACEITE CASTROL BLANCO', 5850.00, 9500.00, 0.00, 10, 0, 'Lubricantes', 'Litro', true),

-- ACEITE CASTROL GRIS
('1272', 'ACEITE CASTROL GRIS', 'ACEITE CASTROL GRIS', 7000.00, 11000.00, 0.00, 24, 0, 'Lubricantes', 'Litro', true),

-- ACEITE CASTROL SEMI-SINTETICO POWER1
('1534', 'ACEITE CASTROL SEMI-SINTETICO POWER1', 'ACEITE CASTROL SEMI-SINTETICO POWER1', 9980.00, 14000.00, 0.00, 3, 0, 'Lubricantes', 'Litro', true),

-- ACEITE DE CADENA WALKER
('1603', 'ACEITE DE CADENA WALKER', 'ACEITE DE CADENA WALKER', 2620.00, 4200.00, 0.00, 0, 0, 'Lubricantes', 'Litro', true),

-- ACEITE DE CADENA X 240 CM AEROTEK
('51', 'ACEITE DE CADENA X 240 CM AEROTEK', 'ACEITE DE CADENA X 240 CM AEROTEK', 800.00, 2800.00, 0.00, 2, 5, 'Lubricantes', 'Litro', true),

-- ACEITE DE SUSPENSION 10W X 250CC MACH
('1686', 'ACEITE DE SUSPENSION 10W X 250CC MACH', 'ACEITE DE SUSPENSION 10W X 250CC MACH', 2470.00, 3900.00, 0.00, 9, 0, 'Lubricantes', 'Litro', true),

-- ACEITE DE SUSPENSION 15W FERCOL
('1507', 'ACEITE DE SUSPENSION 15W FERCOL', 'ACEITE DE SUSPENSION 15W FERCOL', 2650.00, 4500.00, 0.00, 1, 0, 'Lubricantes', 'Litro', true),

-- ACEITE DE SUSPENSION FORCES X 200CM WANDER
('52', 'ACEITE DE SUSPENSION FORCES X 200CM WANDER', 'ACEITE DE SUSPENSION FORCES X 200CM WANDER', 1980.00, 3200.00, 0.00, 0, 0, 'Lubricantes', 'Litro', true),

-- ACEITE HONDA HGO 10W30
('1725', 'ACEITE HONDA HGO 10W30', 'ACEITE HONDA HGO 10W30', 9500.00, 14500.00, 0.00, 14, 0, 'Lubricantes', 'Litro', true),

-- ACEITE IPONE 20W50 SEMI SINTETICO
('1794', 'ACEITE IPONE 20W50 SEMI SINTETICO', 'ACEITE IPONE 20W50 SEMI SINTETICO', 11900.00, 17000.00, 0.00, 12, 0, 'Lubricantes', 'Litro', true),

-- ACEITE MOTUL 3000 20W50 MINERAL
('1770', 'ACEITE MOTUL 3000 20W50 MINERAL', 'ACEITE MOTUL 3000 20W50 MINERAL', 8750.00, 14000.00, 0.00, 10, 0, 'Lubricantes', 'Litro', true),

-- ACEITE MOTUL 5000 20W50 SEMISINTETICO
('1535', 'ACEITE MOTUL 5000 20W50 SEMISINTETICO', 'ACEITE MOTUL 5000 20W50 SEMISINTETICO', 9000.00, 14500.00, 0.00, 22, 0, 'Lubricantes', 'Litro', true),

-- ACEITE MOTUL 5100 SEMISINTETICO
('1450', 'ACEITE MOTUL 5100 SEMISINTETICO', 'ACEITE MOTUL 5100 SEMISINTETICO', 9920.00, 16000.00, 0.00, 3, 0, 'Lubricantes', 'Litro', true),

-- ACEITE MOTUL 7100
('1633', 'ACEITE MOTUL 7100', 'ACEITE MOTUL 7100', 21880.00, 31000.00, 0.00, 9, 0, 'Lubricantes', 'Litro', true),

-- ACEITE RIDERS 4T
('1282', 'ACEITE RIDERS 4T', 'ACEITE RIDERS 4T', 3080.00, 4000.00, 0.00, 124, 0, 'Lubricantes', 'Litro', true),

-- ACEITE ROD YPF 20 W 50
('53', 'ACEITE ROD YPF 20 W 50', 'ACEITE ROD YPF 20 W 50', 4500.00, 6500.00, 0.00, 250, 0, 'Lubricantes', 'Litro', true),

-- ACEITE SHELL ADVACE AX3 ROJO
('551', 'ACEITE SHELL ADVACE AX3 ROJO', 'ACEITE SHELL ADVACE AX3 ROJO', 5700.00, 8500.00, 0.00, 0, 0, 'Lubricantes', 'Litro', true),

-- ACEITE SHELL ADVANCE 20W50 AX5 AMARILLO
('550', 'ACEITE SHELL ADVANCE 20W50 AX5 AMARILLO', 'ACEITE SHELL ADVANCE 20W50 AX5 AMARILLO', 6600.00, 9800.00, 0.00, 0, 1, 'Lubricantes', 'Litro', true),

-- ACEITE WANDER 15W50 SEMI SINTETICO
('1371', 'ACEITE WANDER 15W50 SEMI SINTETICO', 'ACEITE WANDER 15W50 SEMI SINTETICO', 4300.00, 7000.00, 0.00, 1, 0, 'Lubricantes', 'Litro', true),

-- ACEITE WANDER MINERAL
('W0065', 'ACEITE WANDER MINERAL', 'ACEITE WANDER MINERAL', 3780.00, 6000.00, 0.00, 3, 0, 'Lubricantes', 'Litro', true),

-- ACEITE YAMALUBE 20W40
('1536', 'ACEITE YAMALUBE 20W40', 'ACEITE YAMALUBE 20W40', 8740.00, 14000.00, 0.00, 4, 0, 'Lubricantes', 'Litro', true),

-- ACELERADOR RAPIDO ANONIZADOS
('1889', 'ACELERADOR RAPIDO ANONIZADOS', 'ACELERADOR RAPIDO ANONIZADOS', 12000.00, 24000.00, 0.00, 5, 0, 'Aceleración', 'Unidad', true),

-- ACELERADOR RAPIDO UNIVERSAL
('1430', 'ACELERADOR RAPIDO UNIVERSAL', 'ACELERADOR RAPIDO UNIVERSAL', 3925.00, 7000.00, 0.00, 3, 0, 'Aceleración', 'Unidad', true),

-- ACELERADOR RAPIDO UNIVERSAL ALUMINIO SKUA
('153', 'ACELERADOR RAPIDO UNIVERSAL ALUMINIO SKUA', 'ACELERADOR RAPIDO UNIVERSAL ALUMINIO SKUA', 4890.00, 7900.00, 0.00, 0, 0, 'Aceleración', 'Unidad', true),

-- ACELERADOR SMASH/BIZ/TRIP 110
('6425', 'ACELERADOR SMASH/BIZ/TRIP 110', 'ACELERADOR SMASH/BIZ/TRIP 110', 2890.00, 4700.00, 0.00, 0, 0, 'Aceleración', 'Unidad', true),

-- ACONDICONADOR DE SUPERFICIE/ DESSING PROTECTANT
('1802', 'ACONDICONADOR DE SUPERFICIE/ DESSING PROTECTANT', 'ACONDICONADOR DE SUPERFICIE/ DESSING PROTECTANT', 2900.00, 5000.00, 0.00, 6, 0, 'Limpieza', 'Unidad', true),

-- ACOPLE CARBURADOR DE FILTRO DAKAR200
('SM036', 'ACOPLE CARBURADOR DE FILTRO DAKAR200', 'ACOPLE CARBURADOR DE FILTRO DAKAR200', 2100.00, 3400.00, 0.00, 3, 0, 'Carburación', 'Unidad', true),

-- ACOPLE DE CARBURADOR TITAN150
('SAM0368', 'ACOPLE DE CARBURADOR TITAN150', 'ACOPLE DE CARBURADOR TITAN150', 2990.00, 4800.00, 0.00, 2, 0, 'Carburación', 'Unidad', true),

-- ACOPLE FILTRO RX150
('SM0365', 'ACOPLE FILTRO RX150', 'ACOPLE FILTRO RX150', 1350.00, 2200.00, 0.00, 2, 0, 'Carburación', 'Unidad', true),

-- ACRILICO FAROL DELANTERO H WAVE
('526', 'ACRILICO FAROL DELANTERO H WAVE', 'ACRILICO FAROL DELANTERO H WAVE', 2080.00, 4000.00, 0.00, 1, 0, 'Iluminación', 'Unidad', true),

-- ACRILICO FAROL GIRO WAVE IZQUIERDO
('546', 'ACRILICO FAROL GIRO WAVE IZQUIERDO', 'ACRILICO FAROL GIRO WAVE IZQUIERDO', 2450.00, 4000.00, 0.00, 4, 0, 'Iluminación', 'Unidad', true),

-- ACRILICO FAROL TRAS DERECHO SMASH
('435', 'ACRILICO FAROL TRAS DERECHO SMASH', 'ACRILICO FAROL TRAS DERECHO SMASH', 1500.00, 3000.00, 0.00, 1, 0, 'Iluminación', 'Unidad', true),

-- ACRILICO FAROL TRAS IZQUIERDO SMASH
('436', 'ACRILICO FAROL TRAS IZQUIERDO SMASH', 'ACRILICO FAROL TRAS IZQUIERDO SMASH', 1500.00, 3000.00, 0.00, 0, 0, 'Iluminación', 'Unidad', true),

-- ACRILICO FAROL TRASERO BIZ/ MOTOMEL ZANELA ROJO
('433', 'ACRILICO FAROL TRASERO BIZ/ MOTOMEL ZANELA ROJO', 'ACRILICO FAROL TRASERO BIZ/ MOTOMEL ZANELA ROJO', 3640.00, 5900.00, 0.00, 5, 0, 'Iluminación', 'Unidad', true),

-- ACRILICO FAROL TRASERO CRISTAL SMASH Y OTRAS
('434', 'ACRILICO FAROL TRASERO CRISTAL SMASH Y OTRAS', 'ACRILICO FAROL TRASERO CRISTAL SMASH Y OTRAS', 3640.00, 5900.00, 0.00, 3, 0, 'Iluminación', 'Unidad', true),

-- ACRILICO FAROL TRASERO ROJO WAVE
('496', 'ACRILICO FAROL TRASERO ROJO WAVE', 'ACRILICO FAROL TRASERO ROJO WAVE', 2630.00, 4500.00, 0.00, 4, 1, 'Iluminación', 'Unidad', true),

-- ACRILICO GIRO DERECHO WAVE
('547', 'ACRILICO GIRO DERECHO WAVE', 'ACRILICO GIRO DERECHO WAVE', 2450.00, 4000.00, 0.00, 4, 0, 'Iluminación', 'Unidad', true),

-- ACRILICO TABLERO SMASH 110
('490', 'ACRILICO TABLERO SMASH 110', 'ACRILICO TABLERO SMASH 110', 2925.00, 4700.00, 0.00, 5, 0, 'Instrumentos', 'Unidad', true),

-- ACRILICO TABLERO WAVE
('6584', 'ACRILICO TABLERO WAVE', 'ACRILICO TABLERO WAVE', 3010.00, 5000.00, 0.00, 1, 0, 'Instrumentos', 'Unidad', true),

-- ACRILICO TABLERO ZANELLA ZB
('607', 'ACRILICO TABLERO ZANELLA ZB', 'ACRILICO TABLERO ZANELLA ZB', 2150.00, 3700.00, 0.00, 2, 0, 'Instrumentos', 'Unidad', true),

-- ACRILICO VELOCIMETRO YAMAHA CRYPTON
('709', 'ACRILICO VELOCIMETRO YAMAHA CRYPTON', 'ACRILICO VELOCIMETRO YAMAHA CRYPTON', 3410.00, 5500.00, 0.00, 2, 0, 'Instrumentos', 'Unidad', true),

-- ADAPTADOR DE ESPEJO D/I 10MM
('1788', 'ADAPTADOR DE ESPEJO D/I 10MM', 'ADAPTADOR DE ESPEJO D/I 10MM', 835.00, 1500.00, 0.00, 4, 0, 'Espejos', 'Unidad', true),

-- AGARRADERA ACOMPAÑANTE SMASH
('1426', 'AGARRADERA ACOMPAÑANTE SMASH', 'AGARRADERA ACOMPAÑANTE SMASH', 2725.00, 5000.00, 0.00, 1, 0, 'Accesorios', 'Unidad', true),

-- AGUA CON ADITIVO 1L VERDE MATCH
('1357', 'AGUA CON ADITIVO 1L VERDE MATCH', 'AGUA CON ADITIVO 1L VERDE MATCH', 1010.00, 2000.00, 0.00, 1, 0, 'Refrigeración', 'Litro', true),

-- AGUA CON ADITIVO 5L AMARILLO MATCH
('1356', 'AGUA CON ADITIVO 5L AMARILLO MATCH', 'AGUA CON ADITIVO 5L AMARILLO MATCH', 3250.00, 5500.00, 0.00, 3, 0, 'Refrigeración', 'Litro', true),

-- AGUA CON ADITIVO 5L ROSA MATCH
('1355', 'AGUA CON ADITIVO 5L ROSA MATCH', 'AGUA CON ADITIVO 5L ROSA MATCH', 3380.00, 5500.00, 0.00, 2, 0, 'Refrigeración', 'Litro', true),

-- AGUA CON ADITIVO 5L ROSA WANDER
('1358', 'AGUA CON ADITIVO 5L ROSA WANDER', 'AGUA CON ADITIVO 5L ROSA WANDER', 3510.00, 5600.00, 0.00, 1, 0, 'Refrigeración', 'Litro', true),

-- AGUA DESMINERALIZADA 5L MATCH
('1359', 'AGUA DESMINERALIZADA 5L MATCH', 'AGUA DESMINERALIZADA 5L MATCH', 2450.00, 4000.00, 0.00, 0, 0, 'Refrigeración', 'Litro', true);

-- Continuar con más productos...
-- (El archivo tiene más de 1400 productos, este es solo el inicio)

-- Verificar la migración
SELECT 
  COUNT(*) as total_productos,
  SUM(stock) as stock_total,
  AVG(precio_minorista) as precio_promedio
FROM productos;
